{"ast":null,"code":"import axios from'axios';// Create an axios instance with default config\nconst api=axios.create({baseURL:process.env.NODE_ENV==='production'?'':'http://localhost:5000',timeout:60000,// Longer timeout for image processing\nheaders:{'Content-Type':'application/json'}});// Define API methods\nexport const analyzeImage=async imageFile=>{try{const formData=new FormData();formData.append('image',imageFile);const response=await api.post('/api/analyze',formData,{headers:{'Content-Type':'multipart/form-data'}});return response.data;}catch(error){var _error$response,_error$response$data;console.error('Error analyzing image:',error);throw((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Error analyzing image. Please try again.';}};export const getHistory=async()=>{try{const response=await api.get('/api/history');return response.data;}catch(error){var _error$response2,_error$response2$data;console.error('Error fetching history:',error);throw((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Error fetching history. Please try again.';}};export const getHistoryEntry=async id=>{try{const response=await api.get(\"/api/history/\".concat(id));return response.data;}catch(error){var _error$response3,_error$response3$data;console.error(\"Error fetching history entry \".concat(id,\":\"),error);throw((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Error fetching analysis details. Please try again.';}};export const getMetricsSummary=async()=>{try{const response=await api.get('/api/metrics/summary');return response.data;}catch(error){var _error$response4,_error$response4$data;console.error('Error fetching metrics summary:',error);throw((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||'Error fetching metrics summary. Please try again.';}};export default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","NODE_ENV","timeout","headers","analyzeImage","imageFile","formData","FormData","append","response","post","data","error","_error$response","_error$response$data","console","getHistory","get","_error$response2","_error$response2$data","getHistoryEntry","id","concat","_error$response3","_error$response3$data","getMetricsSummary","_error$response4","_error$response4$data"],"sources":["C:/Users/Nitish Maurya/Desktop/frontend/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Create an axios instance with default config\nconst api = axios.create({\n  baseURL: process.env.NODE_ENV === 'production' ? '' : 'http://localhost:5000',\n  timeout: 60000, // Longer timeout for image processing\n  headers: {\n    'Content-Type': 'application/json',\n  }\n});\n\n// Define API methods\nexport const analyzeImage = async (imageFile) => {\n  try {\n    const formData = new FormData();\n    formData.append('image', imageFile);\n    \n    const response = await api.post('/api/analyze', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    \n    return response.data;\n  } catch (error) {\n    console.error('Error analyzing image:', error);\n    throw error.response?.data?.error || 'Error analyzing image. Please try again.';\n  }\n};\n\nexport const getHistory = async () => {\n  try {\n    const response = await api.get('/api/history');\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching history:', error);\n    throw error.response?.data?.error || 'Error fetching history. Please try again.';\n  }\n};\n\nexport const getHistoryEntry = async (id) => {\n  try {\n    const response = await api.get(`/api/history/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching history entry ${id}:`, error);\n    throw error.response?.data?.error || 'Error fetching analysis details. Please try again.';\n  }\n};\n\nexport const getMetricsSummary = async () => {\n  try {\n    const response = await api.get('/api/metrics/summary');\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching metrics summary:', error);\n    throw error.response?.data?.error || 'Error fetching metrics summary. Please try again.';\n  }\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}