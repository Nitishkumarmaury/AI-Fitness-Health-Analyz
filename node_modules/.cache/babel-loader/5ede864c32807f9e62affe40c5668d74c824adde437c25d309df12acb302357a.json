{"ast":null,"code":"import axios from 'axios';\n\n// Create an axios instance with default config\nconst api = axios.create({\n  baseURL: process.env.NODE_ENV === 'production' ? '' : 'http://localhost:5000',\n  timeout: 60000,\n  // Longer timeout for image processing\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Define API methods\nexport const analyzeImage = async imageFile => {\n  try {\n    const formData = new FormData();\n    formData.append('image', imageFile);\n    const response = await api.post('/api/analyze', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    console.error('Error analyzing image:', error);\n    throw ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error analyzing image. Please try again.';\n  }\n};\nexport const getHistory = async () => {\n  try {\n    const response = await api.get('/api/history');\n    return response.data;\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    console.error('Error fetching history:', error);\n    throw ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Error fetching history. Please try again.';\n  }\n};\nexport const getHistoryEntry = async id => {\n  try {\n    const response = await api.get(`/api/history/${id}`);\n    return response.data;\n  } catch (error) {\n    var _error$response3, _error$response3$data;\n    console.error(`Error fetching history entry ${id}:`, error);\n    throw ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Error fetching analysis details. Please try again.';\n  }\n};\nexport const getMetricsSummary = async () => {\n  try {\n    const response = await api.get('/api/metrics/summary');\n    return response.data;\n  } catch (error) {\n    var _error$response4, _error$response4$data;\n    console.error('Error fetching metrics summary:', error);\n    throw ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || 'Error fetching metrics summary. Please try again.';\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","process","env","NODE_ENV","timeout","headers","analyzeImage","imageFile","formData","FormData","append","response","post","data","error","_error$response","_error$response$data","console","getHistory","get","_error$response2","_error$response2$data","getHistoryEntry","id","_error$response3","_error$response3$data","getMetricsSummary","_error$response4","_error$response4$data"],"sources":["C:/Users/Nitish Maurya/Desktop/frontend/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Create an axios instance with default config\nconst api = axios.create({\n  baseURL: process.env.NODE_ENV === 'production' ? '' : 'http://localhost:5000',\n  timeout: 60000, // Longer timeout for image processing\n  headers: {\n    'Content-Type': 'application/json',\n  }\n});\n\n// Define API methods\nexport const analyzeImage = async (imageFile) => {\n  try {\n    const formData = new FormData();\n    formData.append('image', imageFile);\n    \n    const response = await api.post('/api/analyze', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    \n    return response.data;\n  } catch (error) {\n    console.error('Error analyzing image:', error);\n    throw error.response?.data?.error || 'Error analyzing image. Please try again.';\n  }\n};\n\nexport const getHistory = async () => {\n  try {\n    const response = await api.get('/api/history');\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching history:', error);\n    throw error.response?.data?.error || 'Error fetching history. Please try again.';\n  }\n};\n\nexport const getHistoryEntry = async (id) => {\n  try {\n    const response = await api.get(`/api/history/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching history entry ${id}:`, error);\n    throw error.response?.data?.error || 'Error fetching analysis details. Please try again.';\n  }\n};\n\nexport const getMetricsSummary = async () => {\n  try {\n    const response = await api.get('/api/metrics/summary');\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching metrics summary:', error);\n    throw error.response?.data?.error || 'Error fetching metrics summary. Please try again.';\n  }\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}